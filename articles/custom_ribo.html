<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="rRMSAnalyzer">
<title>Customizing a RiboClass • rRMSAnalyzer</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Customizing a RiboClass">
<meta property="og:description" content="rRMSAnalyzer">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rRMSAnalyzer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/rRMSAnalyzer.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/custom_anno.html">Create and use custom sites annotation</a>
    <a class="dropdown-item" href="../articles/custom_ribo.html">Customizing a RiboClass</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/RibosomeCRCL/rRMSAnalyzer/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Customizing a RiboClass</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/RibosomeCRCL/rRMSAnalyzer/blob/HEAD/vignettes/articles/custom_ribo.Rmd" class="external-link"><code>vignettes/articles/custom_ribo.Rmd</code></a></small>
      <div class="d-none name"><code>custom_ribo.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/RibosomeCRCL/rRMSAnalyzer" class="external-link">rRMSAnalyzer</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"ribo_toy"</span><span class="op">)</span></span></code></pre></div>
<p>rRMSAnalyzer has a set of functions dedicated to modify a previously
loaded RiboClass, both for samples and RNAs.</p>
<p>In this article, you will find common ways to use them.</p>
<div class="section level2">
<h2 id="functions-to-modify-rnas">Functions to modify RNAs<a class="anchor" aria-label="anchor" href="#functions-to-modify-rnas"></a>
</h2>
<div class="section level3">
<h3 id="remove-rna">Remove RNA<a class="anchor" aria-label="anchor" href="#remove-rna"></a>
</h3>
<p>A RNA subset can be easily analyzed by indicating the RNA to remove.
The user can thus create a new RiboClass object containing the data of
the RNAs of interest, without affecting the samples’ metadata.</p>
<p>Here is an example where the RNA 5S is removed:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ribo_adjusted</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/remove_rna.html">remove_rna</a></span><span class="op">(</span><span class="va">ribo_toy</span>, rna_to_remove <span class="op">=</span> <span class="st">"NR_023363.1_5S"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">ribo_adjusted</span><span class="op">)</span></span>
<span><span class="co">#&gt; a RiboClass with 14 samples and 3 RNA(s) :</span></span>
<span><span class="co">#&gt; Name : NR_046235.3_5.8S, length : 157</span></span>
<span><span class="co">#&gt;  Name : NR_046235.3_18S, length : 1869</span></span>
<span><span class="co">#&gt;  Name : NR_046235.3_28S, length : 5070</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="rename-rna">Rename RNA<a class="anchor" aria-label="anchor" href="#rename-rna"></a>
</h3>
<p>It is always better to have readable RNA names on plots. This section
is very important for annotation of rRNA 2’Ome sites using an annotation
dataframe. You RiboClass must shares the same RNA names with the
latter.</p>
<p>Here is an example to check whether the RNA names provided by the
user in the RiboClass match the ones used by this package :</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"human_methylated"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"human_methylated's rna names: "</span>, <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">human_methylated</span><span class="op">$</span><span class="va">rRNA</span><span class="op">)</span>,<span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; human_methylated's rna names:  5.8S 18S 28S</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"ribo_toy's rna names: "</span>, <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">ribo_adjusted</span><span class="op">$</span><span class="va">rna_names</span><span class="op">$</span><span class="va">current_name</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; ribo_toy's rna names:  NR_046235.3_5.8S NR_046235.3_18S NR_046235.3_28S</span></span></code></pre></div>
<p>In this example, the names are different and need to be updated
before annotation.</p>
<p>The function rename_rna updates automatically the rRNA names that are
given by rRNA size order:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ribo_adjusted</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/rename_rna.html">rename_rna</a></span><span class="op">(</span><span class="va">ribo_adjusted</span>,</span>
<span>                            new_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"5.8S"</span>, <span class="st">"18S"</span>, <span class="st">"28S"</span><span class="op">)</span><span class="op">)</span> </span>
<span>                            <span class="co"># from the shortest RNA in our RiboClass to the longest.</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="functions-to-modify-samples">Functions to modify samples<a class="anchor" aria-label="anchor" href="#functions-to-modify-samples"></a>
</h2>
<div class="section level3">
<h3 id="keep-only-a-set-samples">Keep only a set samples<a class="anchor" aria-label="anchor" href="#keep-only-a-set-samples"></a>
</h3>
<p>A sample subset can be easily analyzed by indicating the samples to
keep. The user can thus create a new RiboClass object containing the
data and metadata of the samples of interest. Only the remaining
samples’ metadata are kept in the RiboClass object, so no manual
updating is required.</p>
<p>Here is an example to generate a new RiboClass by keeping two samples
of interest (“S1” and “S2”):</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ribo_2samples</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/keep_ribo_samples.html">keep_ribo_samples</a></span><span class="op">(</span><span class="va">ribo_adjusted</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"S1"</span>,<span class="st">"S2"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">ribo_2samples</span><span class="op">)</span></span>
<span><span class="co">#&gt; a RiboClass with 2 samples and 3 RNA(s) :</span></span>
<span><span class="co">#&gt; Name : 5.8S, length : 157</span></span>
<span><span class="co">#&gt;  Name : 18S, length : 1869</span></span>
<span><span class="co">#&gt;  Name : 28S, length : 5070</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="remove-samples">Remove samples<a class="anchor" aria-label="anchor" href="#remove-samples"></a>
</h3>
<p>Unlike the previous section, samples indicated here will be removed
from the RiboClass. The metadata will be updated accordingly.</p>
<p>Here is an example to generate a new RiboClass by removing two
samples (“S1” and “S2”):</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ribo_removed_samples</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/remove_ribo_samples.html">remove_ribo_samples</a></span><span class="op">(</span><span class="va">ribo_toy</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"S1"</span>,<span class="st">"S1"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">ribo_removed_samples</span><span class="op">)</span></span>
<span><span class="co">#&gt; a RiboClass with 13 samples and 4 RNA(s) :</span></span>
<span><span class="co">#&gt; Name : NR_023363.1_5S, length : 121</span></span>
<span><span class="co">#&gt;  Name : NR_046235.3_5.8S, length : 157</span></span>
<span><span class="co">#&gt;  Name : NR_046235.3_18S, length : 1869</span></span>
<span><span class="co">#&gt;  Name : NR_046235.3_28S, length : 5070</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Théo Combe, Hermes Paraqindes, Janice Kielbassa, Virginie Marcel, Émilie Thomas, Anthony Ferrari, Fondation Synergie Lyon Cancer, INCA, SIRIC program, LabEX program, Ligue Nationale Contre le Cancer.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
